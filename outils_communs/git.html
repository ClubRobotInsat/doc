<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Git - Documentation Club Robot Insa Toulouse</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Documentation Club Robot Insa Toulouse</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="git"><a class="header" href="#git">Git</a></h1>
<p><em>Cette page s'adresse à tous les membres du Club.</em></p>
<p>On utilise <code>git</code> pour gérer les versions de nos projets. C'est un outil très puissant, mais qui peut être un peu déroutant au début. Cette page a pour but de te guider dans l'utilisation de <code>git</code> au Club Robot.</p>
<p>Ce choix a de très nombreux avantages :</p>
<ul>
<li>L'évolution de tout le code est sauvegardée donc on peut rappeler une version antérieure d'un fichier à tout moment</li>
<li>Si on perd des fichiers ou que l'on se trompe, on peut facilement revenir à un état stable</li>
<li><code>git</code> permets de collaborer sur un même code, c'est à dire que plusieurs développeurs peuvent participer au code et le logiciel s'occupe de rassembler l'ensemble des modifications</li>
<li>On peut profiter de tous ces avantages avec très peu de travail supplémentaire</li>
</ul>
<p>On héberge nos projets sur <a href="https://github.com/ClubRobotInsat">GitHub</a>. C'est un site qui permet de gérer des projets <code>git</code> en ligne. Il est très pratique car il permet de visualiser les modifications, de gérer les différentes versions, de faire des <em>pull requests</em> pour proposer des modifications, etc.</p>
<p><strong>Si vous n'êtes pas à l'aise avec <code>git</code> en ligne de commande, vous pouvez utiliser la version en ligne de GitHub.</strong> Elle est très bien faite et permet de faire la plupart des choses que l'on fait en ligne de commande.</p>
<h2 id="installation-de-git"><a class="header" href="#installation-de-git">Installation de <code>git</code></a></h2>
<p>Afin de bénéficier de tous les avantages de <code>git</code>, il n'y a rien de plus simple : il suffit d'exécuter la commande suivante.</p>
<pre><code class="language-bash">sudo apt update
sudo apt install git
</code></pre>
<p><em><strong>Astuce :</strong></em> pour vérifier que l'installation d'une application a bien marché, tu peux appeler la commande <code>which</code> qui te retourne le chemin vers l'exécutable, ou encore l'exécuter avec le flag <code>--version</code> :</p>
<pre><code class="language-bash">$ which git
/usr/bin/git

$ git version
git version 2.34.1
</code></pre>
<h2 id="apprendre-à-utiliser-git"><a class="header" href="#apprendre-à-utiliser-git">Apprendre à utiliser <code>git</code></a></h2>
<h3 id="apprendre-en-ligne"><a class="header" href="#apprendre-en-ligne">Apprendre en ligne</a></h3>
<p><code>git</code> est un logiciel extrêmement pratique une fois qu'on l'a pris en main. Cependant, il peut être un peu déroutant au début. Il existe de nombreux tutoriels en ligne pour apprendre à l'utiliser. En voici quelques uns :</p>
<ul>
<li><a href="https://learngitbranching.js.org/">apprendre visuellement git</a> : un site qui permet d'apprendre à utiliser <code>git</code> en ligne de commande en visualisant les modifications</li>
<li><a href="https://rogerdudler.github.io/git-guide/index.fr.html">git - petit guide</a> : un guide très simple pour apprendre les bases de <code>git</code></li>
</ul>
<p>Vu qu'il sait faire de très nombreuses choses, ce n'est bien sûr pas la peine d'apprendre toutes ses commandes par coeur. Voici des <em>Cheat Sheets</em> qui vont te faire gagner du temps :</p>
<ul>
<li><a href="https://services.github.com/on-demand/downloads/github-git-cheat-sheet.pdf">Cheat sheet de GitHub (en)</a></li>
<li><a href="https://services.github.com/on-demand/downloads/fr/github-git-cheat-sheet.pdf">Chear sheet de GitHub (fr)</a></li>
<li><a href="https://www.git-tower.com/blog/git-cheat-sheet/">Cheat sheet de Tower</a></li>
</ul>
<h3 id="ba-ba-des-commandes"><a class="header" href="#ba-ba-des-commandes">B.A.-BA des commandes</a></h3>
<p>Si tu as besoin d'aide pour utiliser <code>git</code>, les forums de <a href="http://stackoverflow.com/">StackOverflow</a> te permettent de répondre à tes questions les plus complexes.</p>
<p>Ensuite, voici une <a href="https://git-scm.com/docs">documentation d'API</a> des différentes fonctions.</p>
<p>En général cependant, tu vas devoir utiliser le même socle de commandes et le but de ce paragraphe est de te lister le <em><strong>template</strong></em> de commandes à utiliser ; je t'invite néanmoins à aller lire la documentation de chacune de ces commandes pour voir à quel point elles peuvent être puissantes.</p>
<ol>
<li>
<p>Avant de commencer à travailler, il faut récupérer le travail réaliser par les autres développeurs. Si tu as déjà des <code>commit</code>s en local, tu peux spécifier le flag <code>--rebase</code> pour avoir une architecture linéaire ; sinon <code>git</code> va <code>merge</code>r la branche locale et celle distante même pour des intégrations triviales.</p>
<ul>
<li><code>git pull [--rebase]</code></li>
</ul>
</li>
<li>
<p>À présent, à toi de faire des modifications pour contribuer au dépôt. Une fois que tu as fini et que tu veux créer un paquet qui contient ta nouveauté, il faut demander à <code>git</code> de rajouter toutes tes modifications intéressantes. Tu peux également connaître les modfications que tu as faites soit fichier par fichier, soit ligne par ligne. Bien sûr, tu peux restreindre la recherche à un document ou à des fichiers en particulier en les rajoutant à la fin.</p>
<ul>
<li><code>git status</code> te liste tous les fichiers qui ont été modifiés / supprimés / créés</li>
<li><code>git diff</code> te montre toutes les additions et délétions dans le code pour l'ensemble de ces fichiers</li>
</ul>
</li>
<li>
<p>Il est temps de choisir les modifications que tu veux sauvegarder dans l'arborescence de <code>git</code>. Il y a plusieurs moyens d'y arriver en utilisant <code>git add</code> et <code>git reset</code> :</p>
<ul>
<li><code>git add *</code> te permets d'ajouter TOUTES les modifications, il ne faut donc pas l'utiliser si tu travailles sur plusieurs projets en même temps</li>
<li><code>git add &lt;file 1&gt; [file 2] [...]</code> ajoute les modifications de chaque fichier / dossier dans leur ensemble. Si tu crées un nouveau fichier, il faut utiliser cette méthode pour l'ajouter et non pas la suivante.</li>
<li><code>git add -p</code> permets de mixer <code>add</code> et <code>diff</code> ; il s'agit d'une méthode particulièrement efficace si tu as besoin de sauvegarder seulement quelques lignes et non pas l'ensemble des modifications sur un fichier. Une interface s'ouvre et tu peux choisir d'accepter avec <code>y</code> ou de refuser les modifications avec <code>n</code> ; d'autres commandes sont possibles notamment <code>q</code> pour quitter.</li>
<li><code>git reset</code> te permets d'annuler l'insertion des modifications dans la sauvegarde de <code>git</code> (mais il ne reset pas les modifications du fichier, rassure-toi). Tu peux également lui donner l'argument <code>-p</code> pour accéder à l'interface intéractive.</li>
</ul>
</li>
<li>
<p>Tu peux vérifier que tu as ajouter les bonnes modifications en appelant de nouveau</p>
<ul>
<li><code>git status</code> pour voir les fichiers</li>
<li><code>git diff --staged</code> pour voir les modifications dans le code</li>
</ul>
</li>
<li>
<p>Il est enfin temps de créer le 'paquet' de modifications, appelé <code>commit</code>. Afin de pouvoir s'y retrouver plus facilement, les <code>commit</code>s ont chacun un numéro unique (appelé hash ; il a cette tête : <code>44bf09d0a2c36585aed1c34ba2e5d958a9379718</code> et est généré automatiquement) et également un message que tu dois choisir pour expliquer ce à quoi il sert. C'est très intéressant de créer un <code>commit</code> par fonctionnalité, et donc qui modifie éventuellement plusieurs fichiers, afin de pouvoir relire l'historique ensuite. Pense donc à en réaliser plusieurs au cours de ton travail, tu pourras facilement revenir à des versions précédentes ce qui est très bénéfique !</p>
<ul>
<li><code>git commit -m &lt;message&gt;</code></li>
<li><code>git commit --amend</code> te permets de juste rajouter des modifications au dernier commit pour ne faire qu'un seul paquet avec les anciennes et nouvelles modifs.</li>
</ul>
</li>
<li>
<p>Maintenant que tu as créé plusieurs <code>commit</code>s, tu peux vérifier que tout s'est bien passé en faisant appel à l'historique. Tu pourras y observer le numéro de chaque commit, leur auteur, leur date de création ainsi que leur message d'accompagnement.</p>
<ul>
<li><code>git log</code></li>
</ul>
</li>
<li>
<p>Enfin, les modifications que tu viens de faire ont pour but d'être partagées aux autres développeurs et donc envoyés sur le dépôt distant de <a href="https://github.com/orgs/ClubRobotInsat/">github.com</a>. Normalement, si tu as bien suivi les étapes de clonage présentées un peu plus bas, tout devrait être déjà configuré pour n'avoir qu'à taper ceci :</p>
<ul>
<li><code>git push -u origin &lt;branch&gt;</code> la première fois pour demander à envoyer les <code>commit</code>s sur le flux <code>origin</code>, c'est à dire github, correspondant à la branche actuelle (par exemple <code>master</code>)</li>
<li><code>git push</code> les fois suivantes ; tout va marcher ensuite à condition d'avoir une connexion internet :wink:</li>
</ul>
</li>
</ol>
<p>Je n'ai pas parlé d'un certain nombre de commandes car tu ne devrais pas les utiliser quotidiennement. Voici une liste de fonctione néanmoins intéressantes dont tu peux aller voir la documentation :</p>
<ul>
<li><code>git branch</code> - notion que je n'ai que très peu abordée, <code>git</code> travaille avec des branches pour faciliter le travail sur plusieurs projets en parallèle</li>
<li><code>git checkout</code> - permets de se ballader d'une branche à une autre branche ou à un commit en particulier</li>
<li><code>git reset</code> - idél pour enlever les modifs d'un <code>git add</code> et pour supprimer des <code>commit</code>s foireux présents localement</li>
<li><code>git revert</code> - applique les modifications complémentaires à un commit, idéal pour annuler un commit foireux déjà envoyé sur le serveur</li>
<li><code>git merge</code> - permets à deux branches de fusionner ; fonctionnalité sympa pour travailler indépendamment sur un projet puis l'intégrer dans la branche principale une fois qu'il est fonctionnel</li>
<li><code>git rebase</code> - permets de copier des commits pour avoir une arborescence plus linéaire</li>
<li><code>git rebase -i</code> - fenêtre intéractive pour réorganiser les commits comme tu veux</li>
<li><code>cherry-pick</code> - copie un ensemble de commits à l'endroit actuel, ce qui simplifie l'utilisation d'un <code>git rebase</code></li>
<li><code>git stash</code> - mémorise des modifications dans un endroit à part ; ça te permets de sauvegarder un travail qui ne compile pas par exemple. Options intéressantes : <code>drop</code>, <code>pop</code>, <code>list</code>, <code>show</code>, <code>save &lt;NAME&gt;</code>, <code>-p</code>.</li>
<li><code>git tag</code> - marque permannante sur un commit pour y accéder n'importe quand (à sa création, il faut appeler <code>git push --follow-tags</code> pour le partager avec tout le monde).</li>
<li><code>git fetch</code> - télécharge les infos sur le dépôt distant ; contrairement à <code>git pull</code>, aucun <code>merge</code> n'est réalisé entre le dépôt localement et celui à distance, donc cette commande est très peu utilisée</li>
</ul>
<h2 id="création-dun-compte-github"><a class="header" href="#création-dun-compte-github">Création d'un compte <a href="https://github.com">GitHub</a></a></h2>
<p>Afin de partager notre travail, on utilise les serveurs de GitHub. Il s'agit d'un service web qui offre une interface graphique à <code>git</code> tout en permettant de récupérer les projets du Club n'importe où.</p>
<p>Il faut donc que tu te crées un compte sur le site : <a href="https://github.com/">github.com</a>.</p>
<p>Une fois que c'est fait, demande à un membre du Club de t'ajouter dans l'organisation <a href="https://github.com/orgs/ClubRobotInsat/">ClubRobotINSAT</a>.</p>
<h2 id="configuration-de-git"><a class="header" href="#configuration-de-git">Configuration de <code>git</code></a></h2>
<p>Il faut configurer ton ordinateur pour qu'il te connaisse, voici comment :</p>
<ol>
<li>Ton nom associé aux <code>commit</code>
<ul>
<li><code>git config --global user.name "[ton nom]"</code></li>
</ul>
</li>
<li>Ton adresse mail associée aux <code>commit</code> (de préférence celle utilisée lors de la création de ton compte GitHub)
<ul>
<li><code>git config --global user.email "[ton adresse mail]"</code></li>
</ul>
</li>
<li>Colorisation des lignes (pas obligatoire mais pratique)
<ul>
<li><code>git config --global color.ui auto</code></li>
</ul>
</li>
</ol>
<h2 id="2-méthodes-pour-cloner-les-dépôts"><a class="header" href="#2-méthodes-pour-cloner-les-dépôts">2 méthodes pour <code>clone</code>r les dépôts</a></h2>
<h3 id="méthode-simple-avec-https-dépréciée"><a class="header" href="#méthode-simple-avec-https-dépréciée">Méthode simple avec HTTPS (dépréciée)</a></h3>
<p>Le clonage en HTTPS est le plus simple et le plus couramment utilisé. Il ne demande que le lien vers le dépôt pour le cloner, et lorsqu'une authentification est requise (clone d'un dépôt privé, push, ...) il faut entrer son identifiant du serveur git (dans notre cas, <a href="https://github.com">github.com</a>) ainsi que son mot de passe.</p>
<p>Voici comment récupérer le code de la partie <code>info</code> :</p>
<pre><code class="language-bash">git clone https://&lt;ton_login_github&gt;@github.com/ClubRobotInsat/info.git
cd info
</code></pre>
<h3 id="méthode-alternative-avec-ssh-recommandée"><a class="header" href="#méthode-alternative-avec-ssh-recommandée">Méthode alternative avec SSH (recommandée)</a></h3>
<p><a href="https://github.com">github.com</a> propose une autre fonctionnalité accéder au serveur par <a href="https://fr.wikipedia.org/wiki/Secure_Shell">SSH</a>. La mise en place de cette méthode est un peu plus longue que le simple protocole HTTPS, mais ça te permettra de t'affranchir de devoir entrer ton mot de passe et ton identifiant à chaque intéraction avec le serveur.</p>
<p>Je te laisse suivre les <a href="https://help.github.com/articles/connecting-to-github-with-ssh/">instructions détaillées</a> pour ajouter la clef SSH sur github.</p>
<p>Enfin, voici comment récupérer un dépôt :</p>
<pre><code class="language-bash">git clone git@github.com:ClubRobotInsat/info.git
cd info
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../outils_communs/index.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../outils_communs/dual_boot.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../outils_communs/index.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../outils_communs/dual_boot.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
